{"remainingRequest":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/src/App.vue?vue&type=template&id=7ba5bd90&ts=true","dependencies":[{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/src/App.vue","mtime":1642312343000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0idG9kby13cmFwIj4KICAgIDxoMj4yMDIyOnRvZG9MaXN0PC9oMj4KICAgIDxIZWFkZXIgQGFkZFRvUGxhbj0iYWRkVG9QbGFuIj48L0hlYWRlcj4KICAgIDxMaXN0IDp0b2Rvcz0idG9kb3MiPjwvTGlzdD4KICAgIDxGb290ZXIgOnRvZG9zPSJ0b2RvcyIgQGlzQ2hlY2tBbGw9ImlzQ2hlY2tBbGwiIDpjbGVhckNvbXBsZXRlZD0iY2xlYXJDb21wbGV0ZWQiIC8+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/src/App.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACpF,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/lixin/iCloud Drive（归档）/Documents/code/vue3学习/vue3-project/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"todo-wrap\">\n    <h2>2022:todoList</h2>\n    <Header @addToPlan=\"addToPlan\"></Header>\n    <List :todos=\"todos\"></List>\n    <Footer :todos=\"todos\" @isCheckAll=\"isCheckAll\" :clearCompleted=\"clearCompleted\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, provide, reactive, toRefs, watch, onMounted } from \"vue\";\nimport Header from \"./components/Head.vue\";\nimport List from \"./components/List.vue\";\nimport Footer from \"./components/Footer.vue\";\nimport { saveTodos, readTodos } from \"./utils/localStorageUtils\";\nimport { Todo } from \"@/types/todo.ts\";\n// interface Todo {\n//   id: number;\n//   title: string;\n//   isCompleted: boolean;\n// }\n// import { saveTodos, readTodos } from \"@/utils/localStorageUtils\";\n\nexport default defineComponent({\n  name: \"App\",\n  setup() {\n    // const state = reactive<{ todos: Todo[] }>({\n    //   todos: [\n    //     { id: 1, title: \"22\", isCompleted: false },\n    //     { id: 2, title: \"111\", isCompleted: true },\n    //     { id: 3, title: \"333\", isCompleted: false },\n    //   ],\n    // });\n    const state = reactive<{ todos: Todo[] }>({\n      todos: [],\n    });\n    onMounted(() => {\n      setTimeout(() => {\n        state.todos = readTodos();\n      }, 1000);\n    });\n    watch(() => state.todos, saveTodos, { deep: true });\n    const addToPlan = (val: Todo) => {\n      console.log(\"addToPlan\", val);\n      state.todos.unshift(val);\n    };\n    // 删除子项\n    const delTodo = (index: number) => {\n      console.log(\"indx\", index);\n      state.todos.splice(index, 1);\n    };\n    // 更新勾选子项状态\n    const updateState = (todo: Todo, val: boolean) => {\n      todo.isCompleted = val;\n    };\n    // 全部勾选\n    const isCheckAll = (val: boolean) => {\n      console.log(\"isCheckAll\", val);\n      state.todos.forEach((item: Todo) => {\n        item.isCompleted = val;\n      });\n      // todo.isCompleted = val;\n    };\n    const clearCompleted = () => {\n      state.todos = state.todos.filter((item) => {\n        return !item.isCompleted;\n      });\n    };\n    provide(\"delTodo\", delTodo);\n    provide(\"updateState\", updateState);\n\n    return {\n      ...toRefs(state),\n      addToPlan,\n      delTodo,\n      isCheckAll,\n      clearCompleted,\n    };\n  },\n  components: {\n    Header,\n    List,\n    Footer,\n  },\n});\n</script>\n\n<style>\n.todo-wrap {\n  width: 500px;\n  margin: 0 auto;\n  border: 1px solid lightblue;\n  border-radius: 5px;\n  padding: 20px;\n}\n.todo-wrap h2 {\n  text-align: center;\n}\n</style>\n"]}]}